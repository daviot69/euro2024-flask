{% extends 'base.html' %}

{% block content %}
  {% for message in get_flashed_messages() %}
    <div class="alert alert-success alert-dismissible fade show" role="alert">
      {{ message }}
      <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
  {% endfor %}
  <h1>Group Match Predictions</h1>
  <p>You can make as many changes up util the start of the Opening Match</p>
  <p>After that you will only be able to change your Wildcard Team (A maximum of two times)</p>
<!--  Count = {{ match_details|length }}-->
<!--  <br/>-->
<!--  {% for match in match_details %}-->
<!--    {% if match.home_country %}-->
<!--      {{ match_details[loop.index -1].id }}-{{ match_details[loop.index -1].home_country.country_shortcode }} {{ match.match_date }} <strong>{{ match.stage.stage_description }}  {{ match.home_country.country_shortcode }} - {{ match.away_country.country_shortcode }}</strong>-->
<!--    {% else %}-->
<!--      {{ match.match_date }} <strong>{{ match.stage.stage_description }}  To Be Decided</strong>-->
<!--    {% endif %}-->
<!--    <br/>-->
<!--  {% endfor %}-->
  {% if entry_found %}

    {% for nested in form.prediction %}

        <ul class="list-group list-group-horizontal">
          <li class="list-group-item" style="width: 140px;">{{ match_details[loop.index -1].home_country.country_name|capitalize }}</li>
          <li class="list-group-item">{{ nested.home_score(class="form-control-sm") }}</li>
          <li class="list-group-item">{{ nested.away_score(class="form-control-sm") }}</li>
          <li class="list-group-item" style="width: 140px;">{{ match_details[loop.index -1].away_country.country_name|capitalize }}</li>
        </ul>

    {% endfor %}

    <br/>
    {{ form.submit(class="btn btn-secondary") }}

  {% else %}

    <a href="{{ url_for('initialise_predictions') }}" class="btn btn-secondary btn-lg" role="button">Click To Initialise Your Predictions</a>

  {% endif %}
{% endblock %}